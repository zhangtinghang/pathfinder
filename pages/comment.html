<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta content="yes" name="apple-mobile-web-app-capable">
		<meta content="yes" name="apple-touch-fullscreen">
		<meta content="telephone=no,email=no" name="format-detection">
		<link rel="stylesheet" href="../css/mui.min.css" />
		<script type="text/javascript" src="../js/zoom/flexible.js"></script>
		<link rel="stylesheet" href="../css/style.css" />
		<style>
			.content {
				background-color: rgba(255, 255, 255, 1);
			}
			
			.commentBox {
				width: 100%;
				padding: 0 5%;
				border-bottom: 1px solid rgba(0, 0, 0, 1);
			}
			
			.commentHeader {
				display: flex;
				align-items: center;
			}
			
			.commentAvatar {
				height: 1.666666rem;
				width: 1.666666rem;
				background-color: #007AFF;
				border-radius: 45px;
				margin: 5% 0;
			}
			
			.commentTitle {
				font-size: 0.416666rem;
				color: rgba(102, 102, 102, 1);
				margin: 0 5%;
			}
			
			.commentTime {
				font-size: 0.416666rem;
				color: rgba(102, 102, 102, 1);
				margin-right: 5%;
			}
			
			.comment_body {
				padding-bottom: 20px;
				font-size: 0.444444rem;
				color: rgba(51, 51, 51, 1)
			}
			
			.comment_btn {
				display: flex;
				justify-content: flex-end;
				align-items: center;
			}
			
			.btn_box {
				display: inline-flex;
				justify-content: center;
				align-items: center;
				padding: 10px 2%;
			}
			
			.btn_box img {
				width: 0.694444rem;
				height: 0.694444rem;
			}
			
			.btn_box span {
				margin-left: 10px;
			}
			
			.mui-popover .mui-popover-arrow {
				display: none;
			}
			
			#popover {
				top: 40% !important;
				left: 50% !important;
				margin-left: -140px;
				border-radius: 0;
			}
			
			.body_box {
				padding: 0.633333rem;
				font-size: 0.444444rem;
				color: rgba(51, 51, 51, 1);
				border-bottom: 1px solid rgba(220, 220, 220, 1);
			}
			
			.comment_text {
				position: fixed;
				width: 100%;
				height: auto;
				display: flex;
				bottom: 0;
				left: 0;
				justify-content: space-between;
				align-items: center;
				background-color: rgba(255, 255, 255, 1);
				box-shadow: 0 -1px 10px rgba(200, 200, 200, 1);
			}
			
			.text_content {
				width: 80%;
				height: auto;
				font-size: 0.444444rem;
				color: rgba(102, 102, 102, 1);
				height: 1.388888rem;
				margin: 0;
				border-radius: 0;
				border: 0;
				display: flex;
				align-items: center;
			}
			
			#sendbtn {
				width: 20%;
				text-align: center;
				font-size: 0.444444rem;
				color: rgba(102, 102, 102, 1);
			}
			
			#textarea {
				display: block;
				margin: 0 auto;
				overflow: hidden;
				width: 80%;
				font-size: 0.444444rem;
				height: 1.388888rem;
				line-height:0.788888rem;
			}
			
			textarea {
				outline: 0 none;
				border-color: rgba(82, 168, 236, 0);
				box-shadow:none;
			}
		</style>
	</head>

	<body class="body_bg">
		<header class="headerNav" id="header">
			<img src="../image/return.png" />
		</header>

		<div class="comment_text">
			<textarea id="textarea" placeholder="我有话要说..."></textarea>
			<div id="sendbtn">发送</div>
		</div>
		<div class="content">
			<div class="commentBox">
				<div class="commentHeader">
					<div class="commentAvatar">

					</div>
					<div class="commentTitle">
						相逢一笑
					</div>
					<div class="commentTime">
						今天10：58
					</div>
				</div>
				<div class="comment_body">
					正在跟一客户谈生意，突然看见一初中学霸同学，现在居然在给人当保安，我感慨着世态炎凉，生活所迫的他竟沦落到这个地步。
				</div>
				<div class="comment_btn">
					<div class="btn_box">
						<img src="../image/comment/icon-comment.png" />
						<span>2</span>
					</div>
					<div class="btn_box">
						<img src="../image/comment/icon-dianzan.png" />
						<span>2</span>
					</div>
				</div>
			</div>

			<div class="commentBox">
				<div class="commentHeader">
					<div class="commentAvatar">
						
					</div>
					<div class="commentTitle">
						相逢一笑
					</div>
					<div class="commentTime">
						今天10：58
					</div>
				</div>
				<div class="comment_body">
					正在跟一客户谈生意，突然看见一初中学霸同学，现在居然在给人当保安，我感慨着世态炎凉，生活所迫的他竟沦落到这个地步。
				</div>
				<div class="comment_btn">
					<div class="btn_box">
						<img src="../image/comment/icon-comment.png" />
						<span>2</span>
					</div>
					<div class="btn_box">
						<img src="../image/comment/icon-dianzan.png" />
						<span>2</span>
					</div>
				</div>
			</div>
		</div>
		<div id="popover" class="mui-popover">
			<div class="popover_body">
				<div class="body_box">回复</div>
				<div class="body_box">举报</div>
			</div>
		</div>
		<script src="../js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init();
			
			/**
			 * 文本框根据输入内容自适应高度
			 * @param                {HTMLElement}        输入框元素
			 * @param                {Number}                设置光标与输入框保持的距离(默认0)
			 * @param                {Number}                设置最大高度(可选)
			 */
			var autoTextarea = function(elem, extra, maxHeight) {
				extra = extra || 0;
				var isFirefox = !!document.getBoxObjectFor || 'mozInnerScreenX' in window,
					isOpera = !!window.opera && !!window.opera.toString().indexOf('Opera'),
					addEvent = function(type, callback) {
						elem.addEventListener ?
							elem.addEventListener(type, callback, false) :
							elem.attachEvent('on' + type, callback);
					},
					getStyle = elem.currentStyle ? function(name) {
						var val = elem.currentStyle[name];

						if(name === 'height' && val.search(/px/i) !== 1) {
							var rect = elem.getBoundingClientRect();
							return rect.bottom - rect.top -
								parseFloat(getStyle('paddingTop')) -
								parseFloat(getStyle('paddingBottom')) + 'px';
						};

						return val;
					} : function(name) {
						return getComputedStyle(elem, null)[name];
					},
					minHeight = parseFloat(getStyle('height'));

				elem.style.resize = 'none';

				var change = function() {
					var scrollTop, height,
						padding = 0,
						style = elem.style;

					if(elem._length === elem.value.length) return;
					elem._length = elem.value.length;

					if(!isFirefox && !isOpera) {
						padding = parseInt(getStyle('paddingTop')) + parseInt(getStyle('paddingBottom'));
					};
					scrollTop = document.body.scrollTop || document.documentElement.scrollTop;

					elem.style.height = minHeight + 'px';
					if(elem.scrollHeight > minHeight) {
						if(maxHeight && elem.scrollHeight > maxHeight) {
							height = maxHeight - padding;
							style.overflowY = 'auto';
						} else {
							height = elem.scrollHeight - padding;
							style.overflowY = 'hidden';
						};
						style.height = height + extra + 'px';
						scrollTop += parseInt(style.height) - elem.currHeight;
						document.body.scrollTop = scrollTop;
						document.documentElement.scrollTop = scrollTop;
						elem.currHeight = parseInt(style.height);
					};
				};

				addEvent('propertychange', change);
				addEvent('input', change);
				addEvent('focus', change);
				change();
			};

			var text = document.getElementById("textarea");

			autoTextarea(text ,0,100); //调用
		</script>
	</body>

</html>